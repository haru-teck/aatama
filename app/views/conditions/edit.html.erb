<div class="container">
  <h1 class="page-title">体調記録の編集</h1>

  <%= form_with model: @condition, local: true, class: 'condition-form' do |form| %>

    <div class="form-group">
     <%= form.label :input_day, '記録日時' %>
     <%= form.datetime_local_field :input_day, value: @condition.input_day&.strftime('%Y-%m-%dT%H:%M'), required: true, class: 'form-control' %>
     </div>

    <div class="form-group">
      <%= form.label :eat, '食欲' %>
      <div class="radio-group">
        <div class="radio-item">
          <%= form.radio_button :eat, 'あり', class: 'radio-input' %>
          <%= form.label :eat_あり, 'あり', class: 'radio-label' %>
        </div>
        <div class="radio-item">
          <%= form.radio_button :eat, 'なし', class: 'radio-input' %>
          <%= form.label :eat_なし, 'なし', class: 'radio-label' %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <%= form.label :moisture, '水分' %>
      <div class="radio-group">
        <div class="radio-item">
          <%= form.radio_button :moisture, 'とれている', class: 'radio-input' %>
          <%= form.label :moisture_とれている, 'とれている', class: 'radio-label' %>
        </div>
        <div class="radio-item">
          <%= form.radio_button :moisture, 'とれていない', class: 'radio-input' %>
          <%= form.label :moisture_とれていない, 'とれていない', class: 'radio-label' %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <%= form.label :puke, '嘔吐' %>
      <div class="radio-group">
        <div class="radio-item">
          <%= form.radio_button :puke, 'あり', class: 'radio-input' %>
          <%= form.label :puke_あり, 'あり', class: 'radio-label' %>
        </div>
        <div class="radio-item">
          <%= form.radio_button :puke, 'なし', class: 'radio-input' %>
          <%= form.label :puke_なし, 'なし', class: 'radio-label' %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <%= form.label :memo, 'メモ' %>
      <%= form.text_area :memo, rows: 3, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.label :images, '画像' %>
      <%= form.file_field :images, multiple: true, class: 'form-control' %>
      <% if @condition.images.attached? %>
        <div class="image-preview">
          <% @condition.images.each do |image| %>
            <%= image_tag image, size: "100x100" %>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="form-actions">
      <%= form.submit '更新', class: 'btn btn-primary' %>
      <%= link_to 'メインメニューへ戻る', main_menu_path, class: 'btn btn-secondary' %>
    </div>
  <% end %>
</div>