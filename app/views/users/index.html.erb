<div class="container">
  <div class="header-container">
    <h1 class="page-title">ユーザー一覧</h1>
    <%= link_to new_user_path, class: 'add-user-icon', title: '新規ユーザー登録' do %>
      <%= image_tag 'yu-za-tuika.png', alt: '新規ユーザー追加', class: 'icon-small' %>
    <% end %>
  </div>
  <table class="user-table">
    <thead>
      <tr>
        <th>名前</th>
        <th>生年月日</th>
        <th>年齢</th>
        <th>性別</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td>
            <%= button_to user.name, select_user_path(user), method: :post, class: "user-select-button btn btn-user btn-user-#{user.gender == '男性' ? 'male' : (user.gender == '女性' ? 'female' : 'other')}" %>
          </td>
          <td><%= user.birthday.strftime("%Y年%-m月%-d日") if user.birthday %></td>
          <td>
            <% if user.age_with_months %>
              <%= user.age_with_months[0] %>歳<%= user.age_with_months[1] %>か月
            <% else %>
              不明
            <% end %>
          </td>
          <td><%= user.gender || '未設定' %></td>
          <td class="action-buttons">
            <%= link_to '編集', edit_user_path(user), class: 'edit-button' %>
            <%= button_to '削除', user_path(user), method: :delete, data: { confirm: '本当に削除してもよろしいですか？' }, class: 'delete-button' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= link_to 'メインメニューに戻る', root_path, class: 'btn btn-secondary' %>